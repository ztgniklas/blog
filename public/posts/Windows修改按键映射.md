---
title: Windows修改按键映射
date: '2021-12-19 22:31:22'
---

笔记本电脑的esc按键失灵了。这个按键还是比较常用的，失灵后很不方便，难以找到替代按键。注意到键盘上有两个alt键，如果我们能修改其中之一，让其变成esc键，这样既不影响alt的使用，我们也可以正常使用esc了。

说干就干，下面分享修改Windows注册表的方法。

1. 同时按住Win + R，调出运行框
2. 输入regedit
3. 找到目录：计算机\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout
4. 右面右键->新建->二进制值，命名为Scancode Map
5. 双击点开
6. 先输入十六个0（也就是第一行都是0）
7. 之后四个字节（2个数字就是一字节）表示映射键总数+1，如果将右alt与esc交换，那就是2+1=3，注意是小端字节序，所以要一字节为单位倒过来写，此例中即将00 00 00 03写为03 00 00 00
8. 后面4个字节写入替换键扫描码(scancode)和被替换键扫描码，扫描码表在后面给出。esc是00 01，右alt是E0 38，注意小端，所以写成38 E0 01 00
9. 第三行交换，写成01 00 38 E0
10. 最后填充4个字节的0，也就是第三行填满
11. 重启电脑后，两个按键应该已经交换了

最后展示一下注册表：
![reg](1639975766.png)

扫描码可以参照：
http://www.philipstorr.id.au/pcbook/book3/scancode.htm